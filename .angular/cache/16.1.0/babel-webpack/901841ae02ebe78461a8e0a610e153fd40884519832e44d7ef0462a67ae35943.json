{"ast":null,"code":"import { catchError, of, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ResourceService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'https://anapioficeandfire.com/api/';\n    this.booksApirUrl = this.apiUrl + \"books\";\n    this.charactersApirUrl = this.apiUrl + \"characters\";\n    this.housesApirUrl = this.apiUrl + \"houses\";\n  }\n  getBooks() {\n    return this.http.get(this.booksApirUrl).pipe(tap(_ => console.log('getBooks() successfully')), catchError(this.handleError('getBooks()')));\n  }\n  getBook(id) {\n    const url = `${this.booksApirUrl}/${id}`;\n    return this.http.get(url).pipe(tap(_ => console.log(`getBook(${id}) successfully`)), catchError(this.handleError(`getBook(${id})`)));\n  }\n  getCharacters() {\n    return this.http.get(this.charactersApirUrl).pipe(tap(_ => console.log('getCharacter() successfully')), catchError(this.handleError('getCharacter()')));\n  }\n  getCharacter(id) {\n    const url = `${this.charactersApirUrl}/${id}`;\n    return this.http.get(url).pipe(tap(_ => console.log(`getCharacter(${id}) successfully`)), catchError(this.handleError(`getCharacter(${id})`)));\n  }\n  getHouses() {\n    return this.http.get(this.housesApirUrl).pipe(tap(_ => console.log('getHouses() successfully')), catchError(this.handleError('getHouses()')));\n  }\n  getHouse(id) {\n    const url = `${this.housesApirUrl}/${id}`;\n    return this.http.get(url).pipe(tap(_ => console.log(`getHouse(${id}) successfully`)), catchError(this.handleError(`getHouse(${id})`)));\n  }\n  handleError(operation = 'operation', result) {\n    return error => {\n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n      // TODO: better job of transforming error for user consumption\n      console.error(`${operation} failed: ${error.message}`);\n      // Let the app keep running by returning an empty result.\n      return of(result);\n    };\n  }\n}\nResourceService.ɵfac = function ResourceService_Factory(t) {\n  return new (t || ResourceService)(i0.ɵɵinject(i1.HttpClient));\n};\nResourceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ResourceService,\n  factory: ResourceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["catchError","of","tap","ResourceService","constructor","http","apiUrl","booksApirUrl","charactersApirUrl","housesApirUrl","getBooks","get","pipe","_","console","log","handleError","getBook","id","url","getCharacters","getCharacter","getHouses","getHouse","operation","result","error","message","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/owtbslolt003/Documents/DEV/Angular Training/GOT_FAN_APP/src/app/resource.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, catchError, of, tap } from 'rxjs';\nimport { Book } from './book';\nimport { Character } from './character';\nimport { House } from './house';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResourceService {\n\n  constructor(private http: HttpClient) { }\n\n  private apiUrl = 'https://anapioficeandfire.com/api/';\n  private booksApirUrl = this.apiUrl + \"books\";\n  private charactersApirUrl = this.apiUrl + \"characters\";\n  private housesApirUrl = this.apiUrl + \"houses\";\n\n  getBooks(): Observable<Book> {\n    return this.http.get<Book>(this.booksApirUrl).pipe(\n      tap(_ => console.log('getBooks() successfully')),\n      catchError(this.handleError<Book>('getBooks()'))\n    );\n  }\n\n  getBook(id: number): Observable<Book> {\n    const url = `${this.booksApirUrl}/${id}`;\n    return this.http.get<Book>(url).pipe(\n      tap(_ => console.log(`getBook(${id}) successfully`)),\n      catchError(this.handleError<Book>(`getBook(${id})`))\n    );\n  }\n\n  getCharacters(): Observable<Character> {\n    return this.http.get<Character>(this.charactersApirUrl).pipe(\n      tap(_ => console.log('getCharacter() successfully')),\n      catchError(this.handleError<Character>('getCharacter()'))\n    );\n  }\n\n  getCharacter(id: number): Observable<Character> {\n    const url = `${this.charactersApirUrl}/${id}`;\n    return this.http.get<Character>(url).pipe(\n      tap(_ => console.log(`getCharacter(${id}) successfully`)),\n      catchError(this.handleError<Character>(`getCharacter(${id})`))\n    );\n  }\n\n  getHouses(): Observable<House> {\n    return this.http.get<House>(this.housesApirUrl).pipe(\n      tap(_ => console.log('getHouses() successfully')),\n      catchError(this.handleError<House>('getHouses()'))\n    );\n  }\n\n  getHouse(id: number): Observable<House> {\n    const url = `${this.housesApirUrl}/${id}`;\n    return this.http.get<House>(url).pipe(\n      tap(_ => console.log(`getHouse(${id}) successfully`)),\n      catchError(this.handleError<House>(`getHouse(${id})`))\n    );\n  }\n\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n  \n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n  \n      // TODO: better job of transforming error for user consumption\n      console.error(`${operation} failed: ${error.message}`);\n  \n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n  //https://anapioficeandfire.com/\n\n  //Use case 0 ✅\n    //Create the general layout\n\n  //Use case 1 ✅\n    //The user opens your app and gets a login screen. He has to login. After a successful login he is navigated to the overview page (UC2)\n    //(Bonus: If the user is logged in, he can refresh the browser and has not to login again)\n    //(Note: To simplify this task, handle the authentication locally in your app and not consume any external services like auth0)\n\n  //Use case 2\n    //The user has a list of Game of thrones resources, for each resource he can show a list where he can filter elements of the list\n\n  //Use case 3\n    //The list(s) in UC2 should be extended. Add a search element, which searches anything in your resources\n\n  //Use case 4\n    //The user clicks on a resource item and gets a detail view over it.   \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}